

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Usage &mdash; orthosnap  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial" href="../tutorial/index.html" />
    <link rel="prev" title="About" href="../about/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo_no_subtext.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#accounting-for-tree-uncertainty">Accounting for tree uncertainty</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specifying-which-inparalog-to-keep">Specifying which inparalog to keep</a></li>
<li class="toctree-l2"><a class="reference internal" href="#all-options">All options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../change_log/index.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other_software/index.html">Other software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">orthosnap</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p><strong>This section covers basic OrthoSNAP usage. We recommend going through the
tutorial as well, which gives a worked example of what OrthoSNAP does.</strong></p>
<p>OrthoSNAP fits into a larger pipeline to construct phylogenomic data matrices.
After calling orthologous groups of genes, it is common for the number of
single-copy orthologous groups of genes to be relatively few compared to all
orthologous groups. Typically, only single-copy orthologous groups of genes
are used for phylogenomic analyses. OrthoSNAP identifies subgroups of
single-copy orthologous genes in multi-copy orthologous groups of genes.</p>
<p>The input for OrthoSNAP is the phylogeny of the orthologous group of genes
and the unaligned FASTA file of sequences used to infer the phylogeny. The
output of OrthoSNAP are multi-FASTA files of subgroups of single-copy orthologous
genes appropriate for downstream analyses.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>The following command is the simpliest iteration of OrthoSNAP and will suffice
for most use cases:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ orthosnap -f orthogroup_of_genes.faa -t phylogeny_of_orthogroup_of_genes.tre
</pre></div>
</div>
<p>Here, two required arguments are shown, the -f/--fasta argument, which specifies
the unaligned orthologous group of sequences, and the -t/--tree argument, which
species the phylogeny inferred from the orthologous group of sequences. The fasta
file should be in FASTA format and the tree file should be in newick format.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="accounting-for-tree-uncertainty">
<h2>Accounting for tree uncertainty<a class="headerlink" href="#accounting-for-tree-uncertainty" title="Permalink to this headline">¶</a></h2>
<p>As part of the OrthoSNAP pipeline, species-specific inparalogs and paralogs are pruned following the
approach described in <a class="reference external" href="https://journals.sagepub.com/doi/10.4137/EBO.S12813">PhyloTreePruner</a>.
To do so, poorly collapsed bipartitions are collapsed to account for tree uncertainty.</p>
<p>The default threshold for collapsing bipartitions is 80 and can be modified using the
-s/--support argument. For example, bipartitions can be collapsed using a threshold
of 70 using the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ orthosnap -f orthogroup_of_genes.faa -t phylogeny_of_orthogroup_of_genes.tre -s <span class="m">70</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="specifying-which-inparalog-to-keep">
<h2>Specifying which inparalog to keep<a class="headerlink" href="#specifying-which-inparalog-to-keep" title="Permalink to this headline">¶</a></h2>
<p>During species-specific inparalog pruning, it is standard practice in transcriptomic analysis to keep the longest inparalog. However, this
may not always be the user’s preference. OrthoSNAP allows flexibility in which inparalog should be kept using the -ip /--inparalog_to_keep parameter.
Specifically, user’s can choose to keep the longest sequence length (default; longest_seq_len), shortest sequence length (shortest_seq_len), or
median sequence length (median_seq_len) in the case of three or more inparalogs. User’s can also choose which inparalog to
keep based on tree-based metrics: the longest branch length (longest_branch_len), the shortest branch length (shortest_branch_len), or the
median branch length (median_branch_len) in the case of three or more inparalogs.</p>
<p>For example, the inparalog with the shortest branch length can be kept using the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ orthosnap -f orthogroup_of_genes.faa -t phylogeny_of_orthogroup_of_genes.tre -ip shortest_branch_len
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>or the inparalog with the median sequence length can be kept using the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ orthosnap -f orthogroup_of_genes.faa -t phylogeny_of_orthogroup_of_genes.tre -ip median_seq_len
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Again, following transcriptomics, the default is to keep the longest sequence because (at least in theory)
it is the most complete gene annotation.</p>
</div>
<div class="section" id="all-options">
<h2>All options<a class="headerlink" href="#all-options" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Usage and meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-h/--help</p></td>
<td><p>Print help message</p></td>
</tr>
<tr class="row-odd"><td><p>-v/--version</p></td>
<td><p>Print software version</p></td>
</tr>
<tr class="row-even"><td><p>-t/--tree</p></td>
<td><p>Input tree file (format: newick)</p></td>
</tr>
<tr class="row-odd"><td><p>-s/--support</p></td>
<td><p>Bipartition support threshold for collapsing uncertain branches (default: 80)</p></td>
</tr>
<tr class="row-even"><td><p>-o/--occupancy</p></td>
<td><p>Occupancy threshold for identifying a subgroup of interest (default: 50%)</p></td>
</tr>
<tr class="row-odd"><td><p>-r/--roooted</p></td>
<td><p>boolean argument for whether the input phylogeny is already rooted (default: false)</p></td>
</tr>
<tr class="row-even"><td><p>-st/--snap_trees</p></td>
<td><p>boolean argument for whether trees of SNAP-OGs should be outputted (default: false)</p></td>
</tr>
<tr class="row-odd"><td><p>-ip/--inparalog_to_keep</p></td>
<td><p>determine which sequence to keep in the case of species-specific inparalogs using sequence- or tree-based options (default: longest_seq_len)</p></td>
</tr>
<tr class="row-even"><td><p>-op/--output_path</p></td>
<td><p>pathway for output files to be written (default: same as -f input)</p></td>
</tr>
</tbody>
</table>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>For genome-scale analyses, we recommend changing the -o/--occupancy parameter to be the same for all large gene families so that the minimum SNAP-OG occupancy is the same
for all SNAP-OGs.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../tutorial/index.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../about/index.html" class="btn btn-neutral float-left" title="About" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021 Jacob L. Steenwyk

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-104875636-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>